class Solution:
    def maxTotalFruits(self, fruits: List[List[int]], startPos: int, k: int) -> int:
        n = len(fruits)
        maxFruits = 0
        total = 0
        left = 0
        for right in range(n):
            total += fruits[right][1]
            while left <= right:
                leftPos = fruits[left][0]
                rightPos = fruits[right][0]
                minSteps = min(abs(startPos - leftPos)+(rightPos - leftPos),abs(startPos - rightPos)+(rightPos - leftPos))
                if minSteps <= k:
                    break
                total -= fruits[left][1]
                left += 1
            maxFruits = max(maxFruits,total)
        return maxFruits

        
